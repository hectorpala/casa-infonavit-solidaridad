<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Vende tu inmueble rápido y fácil. Completa nuestro formulario y recibe una oferta inmediata.">
    <title>Vende tu Inmueble - Formulario de Valuación</title>

    <!-- Google Fonts - TuHabi REAL (Montserrat + Roboto) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Font Awesome (para iconos) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Estilos -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/form.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/override.css">
    <link rel="stylesheet" href="css/map-modal.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-container">
            <div class="logo">
                <h1>Hector es <span class="logo-accent">Bienes Raíces</span></h1>
            </div>
            <div class="header-info">
                <span class="step-indicator">Paso <span id="current-step">1</span> de 4</span>
            </div>
        </div>
    </header>

    <!-- Barra de Progreso -->
    <div class="progress-bar-container">
        <div class="progress-bar" id="progress-bar" style="width: 0%;">
            <span class="progress-percentage" id="progress-percentage">0%</span>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-container">
            <span class="hero-badge">Valuación Gratuita</span>
            <h1 class="hero-title">Vende tu inmueble en <span class="hero-highlight">Culiacán</span></h1>
            <p class="hero-subtitle">Completa el formulario en 3 minutos y recibe una oferta competitiva. Sin comisiones ocultas, proceso 100% transparente.</p>
            <div class="hero-features">
                <div class="hero-feature">
                    <svg class="hero-feature-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Respuesta en 24 horas</span>
                </div>
                <div class="hero-feature">
                    <svg class="hero-feature-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>Oferta competitiva</span>
                </div>
                <div class="hero-feature">
                    <svg class="hero-feature-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    <span>100% confidencial</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Contenedor Principal -->
    <main class="main-container">
        <div class="form-wrapper">

            <!-- PASO 1: UBICACIÓN -->
            <section class="form-step active" id="step-1" data-step="1">
                <div class="step-header">
                    <h2 class="step-title">Ubicación de tu inmueble</h2>
                    <p class="step-description">Necesitamos saber dónde se encuentra tu propiedad</p>
                </div>

                <!-- Substep 1.1: Estado (FIJO: Sinaloa) -->
                <div class="substep active" id="substep-1-1" data-substep="1">
                    <div class="form-group">
                        <label for="state" class="form-label">
                            Estado
                        </label>
                        <input
                            type="text"
                            id="state"
                            name="state"
                            class="form-control form-control-readonly"
                            value="Sinaloa"
                            readonly
                        >
                        <span class="form-hint">Actualmente solo operamos en Sinaloa</span>
                    </div>
                </div>

                <!-- Substep 1.2: Municipio (FIJO: Culiacán) -->
                <div class="substep active" id="substep-1-2" data-substep="2">
                    <div class="form-group">
                        <label for="municipality" class="form-label">
                            Municipio <span class="required">*</span>
                        </label>
                        <select
                            id="municipality"
                            name="municipality"
                            class="form-control"
                            required
                        >
                            <option value="culiacan" selected>Culiacán</option>
                            <option value="mazatlan">Mazatlán</option>
                        </select>
                        <span class="form-hint">Selecciona el municipio donde se encuentra el inmueble</span>
                    </div>
                </div>

                <!-- Substep 1.3: Colonia -->
                <div class="substep" id="substep-1-3-colonia" data-substep="3">
                    <div class="form-group autocomplete-wrapper">
                        <label for="colonia" class="form-label">
                            Colonia <span class="required">*</span>
                        </label>
                        <input type="text"
                               id="colonia"
                               name="colonia"
                               class="form-control"
                               placeholder="Escribe para buscar..."
                               autocomplete="off"
                               required>
                        <div id="colonia-suggestions" class="autocomplete-suggestions"></div>
                        <input type="hidden" id="colonia-value" name="colonia-value">

                        <span class="error-message" id="colonia-error"></span>
                    </div>

                    <!-- Código Postal (auto-llenado) -->
                    <div class="form-group">
                        <label for="zip-code" class="form-label">
                            Código Postal
                        </label>
                        <input
                            type="text"
                            id="zip-code"
                            name="codigoPostal"
                            class="form-control"
                            placeholder="Se llenará automáticamente"
                            maxlength="5"
                        >
                        <span class="form-hint">Se completa automáticamente al seleccionar la colonia</span>
                    </div>
                </div>

                <!-- Substep 1.4: Dirección -->
                <div class="substep" id="substep-1-4" data-substep="4">
                    <div class="form-group autocomplete-wrapper">
                        <label for="address" class="form-label">
                            Calle o Avenida <span class="required">*</span>
                        </label>
                        <div class="input-with-icon">
                            <input
                                type="text"
                                id="address"
                                name="calle"
                                class="form-control"
                                placeholder="Escribe para buscar..."
                                autocomplete="off"
                                required
                            >
                            <button type="button" class="btn-geolocation" id="btn-geolocate" title="Usar mi ubicación actual">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" fill="currentColor"/>
                                </svg>
                            </button>
                        </div>
                        <div class="autocomplete-suggestions" id="address-suggestions"></div>
                        <span class="error-message" id="address-error"></span>
                    </div>
                </div>

                <!-- Substep 1.5: Número Exterior -->
                <div class="substep" id="substep-1-5" data-substep="5">
                    <div class="form-group">
                        <label for="exterior-number" class="form-label">
                            Número Exterior <span class="required">*</span>
                        </label>
                        <input
                            type="text"
                            id="exterior-number"
                            name="numero"
                            class="form-control"
                            placeholder="Ej: 123, 45A, S/N"
                            maxlength="10"
                            pattern="[0-9A-Za-z#/\-]+"
                            required
                        >
                        <span class="form-hint">Acepta números, letras, #, / y -. Usa S/N si no tiene número.</span>
                        <span class="error-message" id="exterior-number-error"></span>
                    </div>

                    <div class="form-group">
                        <label for="interior-number" class="form-label">
                            Número Interior <span class="optional">(Opcional)</span>
                        </label>
                        <input
                            type="text"
                            id="interior-number"
                            name="interior-number"
                            class="form-control"
                            placeholder="Ej: 4, Depto 201, Interior B"
                            maxlength="10"
                        >
                    </div>
                </div>

                <!-- Substep 1.6: Código Postal -->
                <div class="substep" id="substep-1-6" data-substep="6">
                    <div class="form-group">
                        <label for="zip-code" class="form-label">
                            Código Postal <span class="required">*</span>
                        </label>
                        <input
                            type="text"
                            id="zip-code"
                            name="codigoPostal"
                            class="form-control"
                            placeholder="Ej: 03100"
                            pattern="[0-9]{5}"
                            maxlength="5"
                            inputmode="numeric"
                            required
                        >
                        <span class="form-hint">Debe tener 5 dígitos</span>
                        <span class="error-message" id="zip-code-error"></span>
                    </div>
                </div>
            </section>

            <!-- PASO 2: TIPO DE INMUEBLE -->
            <section class="form-step" id="step-2" data-step="2">
                <div class="step-header">
                    <h2 class="step-title">¿Qué tipo de inmueble es?</h2>
                    <p class="step-description">Selecciona el tipo de propiedad que deseas vender</p>
                </div>

                <div class="substep active" id="substep-2-1" data-substep="1">
                    <div class="form-group">
                        <div class="property-type-grid">
                            <div class="property-type-card" data-value="casa">
                                <div class="card-icon">
                                    <svg width="60" height="60" viewBox="0 0 24 24" fill="none">
                                        <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" fill="currentColor"/>
                                    </svg>
                                </div>
                                <h3 class="card-title">Casa</h3>
                                <p class="card-description">Casa independiente, residencial o en fraccionamiento</p>
                            </div>

                            <div class="property-type-card" data-value="departamento">
                                <div class="card-icon">
                                    <svg width="60" height="60" viewBox="0 0 24 24" fill="none">
                                        <path d="M17 11V3H7v4H3v14h8v-4h2v4h8V11h-4zM7 19H5v-2h2v2zm0-4H5v-2h2v2zm0-4H5V9h2v2zm4 4H9v-2h2v2zm0-4H9V9h2v2zm0-4H9V5h2v2zm4 8h-2v-2h2v2zm0-4h-2V9h2v2zm0-4h-2V5h2v2zm4 12h-2v-2h2v2zm0-4h-2v-2h2v2z" fill="currentColor"/>
                                    </svg>
                                </div>
                                <h3 class="card-title">Departamento</h3>
                                <p class="card-description">Departamento o condominio en edificio</p>
                            </div>

                            <div class="property-type-card" data-value="terreno">
                                <div class="card-icon">
                                    <svg width="60" height="60" viewBox="0 0 24 24" fill="none">
                                        <path d="M20 3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM4 5h7v14H4V5zm16 14h-7V5h7v14z" fill="currentColor"/>
                                    </svg>
                                </div>
                                <h3 class="card-title">Terreno</h3>
                                <p class="card-description">Terreno baldío o con construcción</p>
                            </div>

                            <div class="property-type-card" data-value="local-comercial">
                                <div class="card-icon">
                                    <svg width="60" height="60" viewBox="0 0 24 24" fill="none">
                                        <path d="M20 4H4v2h16V4zm1 10v-2l-1-5H4l-1 5v2h1v6h10v-6h4v6h2v-6h1zm-9 4H6v-4h6v4z" fill="currentColor"/>
                                    </svg>
                                </div>
                                <h3 class="card-title">Local Comercial</h3>
                                <p class="card-description">Local, oficina o espacio comercial</p>
                            </div>
                        </div>
                        <input type="hidden" id="property-type" name="tipoPropiedad" required>
                        <span class="error-message" id="property-type-error"></span>
                    </div>
                </div>
            </section>

            <!-- PASO 3: CARACTERÍSTICAS DEL INMUEBLE -->
            <section class="form-step" id="step-3" data-step="3">
                <div class="step-header">
                    <h2 class="step-title">Características de tu propiedad</h2>
                    <p class="step-description">Cuéntanos más detalles sobre tu inmueble</p>
                </div>

                <div class="substep active" id="substep-3-1" data-substep="1">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="bedrooms" class="form-label">
                                Recámaras <span class="required">*</span>
                            </label>
                            <select id="bedrooms" name="recamaras" class="form-control" required>
                                <option value="">Selecciona</option>
                                <option value="1">1 recámara</option>
                                <option value="2">2 recámaras</option>
                                <option value="3">3 recámaras</option>
                                <option value="4">4 recámaras</option>
                                <option value="5">5+ recámaras</option>
                            </select>
                            <span class="error-message" id="bedrooms-error"></span>
                        </div>

                        <div class="form-group">
                            <label for="bathrooms" class="form-label">
                                Baños <span class="required">*</span>
                            </label>
                            <select id="bathrooms" name="banos" class="form-control" required>
                                <option value="">Selecciona</option>
                                <option value="1">1 baño</option>
                                <option value="1.5">1.5 baños</option>
                                <option value="2">2 baños</option>
                                <option value="2.5">2.5 baños</option>
                                <option value="3">3 baños</option>
                                <option value="3.5">3.5 baños</option>
                                <option value="4">4+ baños</option>
                            </select>
                            <span class="error-message" id="bathrooms-error"></span>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="parking" class="form-label">
                                Estacionamientos <span class="required">*</span>
                            </label>
                            <select id="parking" name="estacionamientos" class="form-control" required>
                                <option value="">Selecciona</option>
                                <option value="0">Sin estacionamiento</option>
                                <option value="1">1 espacio</option>
                                <option value="2">2 espacios</option>
                                <option value="3">3 espacios</option>
                                <option value="4">4+ espacios</option>
                            </select>
                            <span class="error-message" id="parking-error"></span>
                        </div>

                        <div class="form-group">
                            <label for="area" class="form-label">
                                Metros cuadrados (m²) <span class="required">*</span>
                            </label>
                            <input
                                type="number"
                                id="area"
                                name="m2_construccion"
                                class="form-control"
                                placeholder="Ej: 120"
                                min="20"
                                max="10000"
                                step="0.01"
                                required
                            >
                            <span class="error-message" id="area-error"></span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="age" class="form-label">
                            Antigüedad <span class="required">*</span>
                        </label>
                        <select id="age" name="antiguedad" class="form-control" required>
                            <option value="">Selecciona</option>
                            <option value="nueva">Nuevo (0-1 años)</option>
                            <option value="reciente">Reciente (1-5 años)</option>
                            <option value="moderada">Moderada (5-10 años)</option>
                            <option value="antigua">Antigua (10-20 años)</option>
                            <option value="muy-antigua">Muy antigua (20+ años)</option>
                        </select>
                        <span class="error-message" id="age-error"></span>
                    </div>
                </div>
            </section>

            <!-- PASO 4: INFORMACIÓN DE CONTACTO -->
            <section class="form-step" id="step-4" data-step="4">
                <div class="step-header">
                    <h2 class="step-title">Información de contacto</h2>
                    <p class="step-description">¿Cómo podemos contactarte para darte una oferta?</p>
                </div>

                <div class="substep active" id="substep-4-1" data-substep="1">
                    <div class="form-group">
                        <label for="name" class="form-label">
                            Nombre completo <span class="required">*</span>
                        </label>
                        <input
                            type="text"
                            id="name"
                            name="nombre"
                            class="form-control"
                            placeholder="Ej: Juan Pérez García"
                            minlength="3"
                            maxlength="100"
                            required
                        >
                        <span class="error-message" id="name-error"></span>
                    </div>

                    <div class="form-group">
                        <label for="email" class="form-label">
                            Correo electrónico <span class="required">*</span>
                        </label>
                        <input
                            type="email"
                            id="email"
                            name="email"
                            class="form-control"
                            placeholder="Ej: juan.perez@email.com"
                            required
                        >
                        <span class="error-message" id="email-error"></span>
                    </div>

                    <div class="form-group">
                        <label for="phone" class="form-label">
                            Teléfono <span class="required">*</span>
                        </label>
                        <input
                            type="tel"
                            id="phone"
                            name="telefono"
                            class="form-control"
                            placeholder="Ej: 5512345678"
                            pattern="[0-9]{10}"
                            maxlength="10"
                            inputmode="numeric"
                            required
                        >
                        <span class="form-hint">10 dígitos sin espacios ni guiones</span>
                        <span class="error-message" id="phone-error"></span>
                    </div>

                    <div class="form-group">
                        <label for="comments" class="form-label">
                            Comentarios adicionales <span class="optional">(Opcional)</span>
                        </label>
                        <textarea
                            id="comments"
                            name="comments"
                            class="form-control"
                            placeholder="¿Algo más que quieras que sepamos sobre tu propiedad?"
                            rows="4"
                            maxlength="500"
                        ></textarea>
                        <span class="char-counter"><span id="comments-count">0</span>/500</span>
                    </div>

                    <div class="form-group checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="terms" name="terms" required>
                            <span class="checkbox-custom"></span>
                            <span class="checkbox-text">
                                Acepto los <a href="/terminos-condiciones" target="_blank">Términos y Condiciones</a>
                                y el <a href="/aviso-privacidad" target="_blank">Aviso de Privacidad</a>
                            </span>
                        </label>
                        <span class="error-message" id="terms-error"></span>
                    </div>
                </div>
            </section>

            <!-- Botones de Navegación -->
            <div class="form-navigation">
                <button type="button" class="btn btn-secondary" id="btn-back" style="display: none;">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                        <path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z" fill="currentColor"/>
                    </svg>
                    Atrás
                </button>
                <button type="button" class="btn btn-primary" id="btn-continue">
                    Continuar
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                        <path d="M8.59 16.59L10 18l6-6-6-6-1.41 1.41L13.17 12z" fill="currentColor"/>
                    </svg>
                </button>
                <button type="submit" class="btn btn-success" id="btn-submit" style="display: none;">
                    Enviar formulario
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                        <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="currentColor"/>
                    </svg>
                </button>
            </div>

            <!-- Loading Overlay -->
            <div class="loading-overlay" id="loading-overlay" style="display: none;">
                <div class="spinner"></div>
                <p>Procesando...</p>
            </div>

            <!-- Success Message -->
            <div class="success-message" id="success-message" style="display: none;">
                <div class="success-icon">
                    <svg width="80" height="80" viewBox="0 0 24 24" fill="none">
                        <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="#4CAF50"/>
                    </svg>
                </div>
                <h2>¡Formulario enviado con éxito!</h2>
                <p>Nos pondremos en contacto contigo pronto con una oferta para tu propiedad.</p>
            </div>

        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-links">
                <a href="/terminos-condiciones" target="_blank">Términos y Condiciones</a>
                <span class="separator">|</span>
                <a href="/aviso-privacidad" target="_blank">Aviso de Privacidad</a>
                <span class="separator">|</span>
                <a href="geocoding-map.html" class="geocoding-link">
                    <i class="fas fa-map-marked-alt"></i>
                    Geocodificación con Mapa
                </a>
            </div>
            <p class="copyright">&copy; 2025 Tu Empresa. Todos los derechos reservados</p>
        </div>
    </footer>

    <!-- Netlify Forms - Formulario oculto para detección -->
    <form name="formulario-inmueble" netlify netlify-honeypot="bot-field" style="display:none">
        <!-- Campos básicos -->
        <input type="text" name="tipoPropiedad">
        <input type="text" name="antiguedad">
        <input type="text" name="m2_terreno">
        <input type="text" name="m2_construccion">
        <input type="text" name="recamaras">
        <input type="text" name="banos">
        <input type="text" name="estacionamientos">
        <input type="text" name="niveles">

        <!-- Ubicación -->
        <input type="text" name="calle">
        <input type="text" name="numero">
        <input type="text" name="colonia">
        <input type="text" name="codigoPostal">
        <input type="text" name="latitud">
        <input type="text" name="longitud">

        <!-- Instalaciones -->
        <input type="text" name="luz">
        <input type="text" name="agua">
        <input type="text" name="drenaje">
        <input type="text" name="internet">

        <!-- Contacto -->
        <input type="text" name="nombre">
        <input type="text" name="telefono">
        <input type="email" name="email">

        <!-- Metadata -->
        <input type="text" name="timestamp">
        <input type="text" name="userAgent">
    </form>

    <!-- Scripts -->
    <script src="js/validation.js"></script>
    <script src="js/geolocation.js"></script>
    <script src="js/geocoding.js"></script>
    <script src="js/autocomplete.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
